CREATE DATABASE wedding;
CREATE USER 'wedding_db'@'localhost' IDENTIFIED BY '';
GRANT ALL PRIVILEGES ON wedding.* TO 'wedding_db'@'localhost';
FLUSH PRIVILEGES;

USE wedding;

CREATE TABLE tables (
    id_table VARCHAR(10) PRIMARY KEY,
    table_number INT NOT NULL,
    floor INT NOT NULL
);

CREATE TABLE seats (
	id INT auto_increment KEY,
    seat_number INT NOT NULL,
    id_table VARCHAR(10) NOT NULL,
    FOREIGN KEY (id_table) REFERENCES tables(id_table)
		ON DELETE CASCADE,
	UNIQUE (id_table, seat_number)
);

CREATE TABLE guests (
	id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(60) NOT NULL,
    id_seat INT UNIQUE,
    is_child BOOLEAN DEFAULT FALSE,
    is_vegetarian BOOLEAN DEFAULT FALSE,
    is_vegan BOOLEAN DEFAULT FALSE,
    is_gluten_intolerant BOOLEAN DEFAULT FALSE,
    has_other_diet BOOLEAN DEFAULT FALSE,
    other_diet_text VARCHAR(100),
    has_allergies BOOLEAN DEFAULT FALSE,
    allergy_text VARCHAR(200),
    observations TEXT,
    FOREIGN KEY (id_seat) REFERENCES seats(id)
		ON DELETE CASCADE
        ON UPDATE CASCADE
);

-- Insert tables
INSERT INTO tables (id_table, table_number, floor) VALUES
('t1l1', 1, 1), ('t2l1', 2, 1), ('t3l1', 3, 1), 
('t4l1', 4, 1), ('t5l1', 5, 1), ('t6l1', 6, 1),
('t7l1', 7, 1), ('t8l1', 8, 1), ('t9l1', 9, 1), 
('t10l1', 10, 1), ('t11l1', 11, 1), -- Layout 1

('t1l2', 1, 2), ('t2l2', 2, 2), ('t3l2', 3, 2), 
('t4l2', 4, 2), ('t5l2', 5, 2), ('t6l2', 6, 2), 
('t7l2', 7, 2), -- Layout 2

('t1l3', 1, 3), ('t2l3', 2, 3), ('t3l3', 3, 3), 
('t4l3', 4, 3), ('t5l3', 5, 3), ('t6l3', 6, 3), 
('t7l3', 7, 3), ('t8l3', 8, 3), ('t9l3', 9, 3), -- Layout 3

('t1l4', 1, 4), ('t2l4', 2, 4), ('t3l4', 3, 4), 
('t4l4', 4, 4), ('t5l4', 5, 4), ('t6l4', 6, 4), 
('t7l4', 7, 4), ('t8l4', 8, 4), ('t9l4', 9, 4),
('t10l4', 10, 4), ('t11l4', 11, 4), ('t12l4', 12, 4),
('t13l4', 13, 4); -- Layout 4

-- Insert chairs
INSERT INTO seats (seat_number, id_table) VALUES
-- Layout 1 --
-- Table 1
(1, 't1l1'), (2, 't1l1'), (3, 't1l1'), (4, 't1l1'), 
(5, 't1l1'), (6, 't1l1'), (7, 't1l1'), (8, 't1l1'), 

-- Table 2
(1, 't2l1'), (2, 't2l1'), (3, 't2l1'), (4, 't2l1'), 
(5, 't2l1'), (6, 't2l1'), (7, 't2l1'), (8, 't2l1'),

-- Table 3
(1, 't3l1'), (2, 't3l1'), (3, 't3l1'), (4, 't3l1'), 
(5, 't3l1'), (6, 't3l1'), (7, 't3l1'), (8, 't3l1'),

-- Table 4
(1, 't4l1'), (2, 't4l1'), (3, 't4l1'), (4, 't4l1'), 
(5, 't4l1'), (6, 't4l1'), (7, 't4l1'), (8, 't4l1'), 

-- Table 5
(1, 't5l1'), (2, 't5l1'), (3, 't5l1'), (4, 't5l1'), (5, 't5l1'), 
(6, 't5l1'), (7, 't5l1'), (8, 't5l1'), (9, 't5l1'), (10, 't5l1'), 
(11, 't5l1'), (12, 't5l1'), (13, 't5l1'), (14, 't5l1'), (15, 't5l1'), 
(16, 't5l1'), (17, 't5l1'), (18, 't5l1'), (19, 't5l1'), (20, 't5l1'), 
(21, 't5l1'), (22, 't5l1'), (23, 't5l1'), (24, 't5l1'), (25, 't5l1'), 
(26, 't5l1'), (27, 't5l1'), (28, 't5l1'), (29, 't5l1'), (30, 't5l1'), 
(31, 't5l1'), (32, 't5l1'), (33, 't5l1'), (34, 't5l1'), (35, 't5l1'), 
(36, 't5l1'), (37, 't5l1'), (38, 't5l1'), (39, 't5l1'), (40, 't5l1'), 
(41, 't5l1'),

-- Table 6
(1, 't6l1'), (2, 't6l1'), (3, 't6l1'), (4, 't6l1'), 
(5, 't6l1'), (6, 't6l1'), (7, 't6l1'), (8, 't6l1'),

-- Table 7
(1, 't7l1'), (2, 't7l1'), (3, 't7l1'), (4, 't7l1'), 
(5, 't7l1'), (6, 't7l1'), (7, 't7l1'), (8, 't7l1'),

-- Table 8
(1, 't8l1'), (2, 't8l1'), (3, 't8l1'), (4, 't8l1'), 
(5, 't8l1'), (6, 't8l1'), (7, 't8l1'), (8, 't8l1'),

-- Table 9
(1, 't9l1'), (2, 't9l1'), (3, 't9l1'), (4, 't9l1'), 
(5, 't9l1'), (6, 't9l1'), (7, 't9l1'), (8, 't9l1'),

-- Table 10
(1, 't10l1'), (2, 't10l1'), (3, 't10l1'), (4, 't10l1'), 
(5, 't10l1'), (6, 't10l1'), (7, 't10l1'), (8, 't10l1'),

-- Table 11
(1, 't11l1'), (2, 't11l1'), (3, 't11l1'), (4, 't11l1'), 
(5, 't11l1'), (6, 't11l1'), (7, 't11l1'), (8, 't11l1'),


-- Layout 2
-- Table 1
(1, 't1l2'), (2, 't1l2'), (3, 't1l2'), (4, 't1l2'), (5, 't1l2'), 
(6, 't1l2'), (7, 't1l2'), (8, 't1l2'), (9, 't1l2'), (10, 't1l2'), 
(11, 't1l2'), (12, 't1l2'),(13, 't1l2'), (14, 't1l2'), (15, 't1l2'), 
(16, 't1l2'), (17, 't1l2'), (18, 't1l2'), (19, 't1l2'), (20, 't1l2'), 
(21, 't1l2'), (22, 't1l2'), (23, 't1l2'), (24, 't1l2'),

-- Table 2 ---
(1, 't2l2'), (2, 't2l2'), (3, 't2l2'), (4, 't2l2'), (5, 't2l2'), 
(6, 't2l2'),(7, 't2l2'), (8, 't2l2'), (9, 't2l2'), (10, 't2l2'), 
(11, 't2l2'), (12, 't2l2'),(13, 't2l2'), (14, 't2l2'), (15, 't2l2'), 
(16, 't2l2'), (17, 't2l2'), (18, 't2l2'), (19, 't2l2'), (20, 't2l2'), 
(21, 't2l2'), (22, 't2l2'), (23, 't2l2'), (24, 't2l2'),

-- Table 3 ---
(1, 't3l2'), (2, 't3l2'), (3, 't3l2'), (4, 't3l2'), (5, 't3l2'), 
(6, 't3l2'),(7, 't3l2'), (8, 't3l2'), (9, 't3l2'), (10, 't3l2'), 
(11, 't3l2'), (12, 't3l2'),(13, 't3l2'), (14, 't3l2'), (15, 't3l2'), 
(16, 't3l2'), (17, 't3l2'), (18, 't3l2'), (19, 't3l2'), (20, 't3l2'), 
(21, 't3l2'), (22, 't3l2'), (23, 't3l2'), (24, 't3l2'),

-- Table 4 ---
(1, 't4l2'), (2, 't4l2'), (3, 't4l2'), (4, 't4l2'), (5, 't4l2'), 
(6, 't4l2'),(7, 't4l2'), (8, 't4l2'), (9, 't4l2'), (10, 't4l2'), 
(11, 't4l2'), (12, 't4l2'),(13, 't4l2'), (14, 't4l2'), (15, 't4l2'), 
(16, 't4l2'), (17, 't4l2'), (18, 't4l2'), (19, 't4l2'), (20, 't4l2'), 
(21, 't4l2'), (22, 't4l2'), (23, 't4l2'), (24, 't4l2'),

-- Table 5 --
(1, 't5l2'), (2, 't5l2'), (3, 't5l2'), (4, 't5l2'), (5, 't5l2'), 
(6, 't5l2'), (7, 't5l2'), (8, 't5l2'), (9, 't5l2'), (10, 't5l2'), 
(11, 't5l2'), (12, 't5l2'), (13, 't5l2'), (14, 't5l2'), (15, 't5l2'), 
(16, 't5l2'), (17, 't5l2'), (18, 't5l2'), (19, 't5l2'), (20, 't5l2'), 
(21, 't5l2'), (22, 't5l2'), (23, 't5l2'), (24, 't5l2'), (25, 't5l2'), 
(26, 't5l2'), (27, 't5l2'), (28, 't5l2'), (29, 't5l2'), (30, 't5l2'), 
(31, 't5l2'), (32, 't5l2'), (33, 't5l2'), (34, 't5l2'), (35, 't5l2'), 
(36, 't5l2'), (37, 't5l2'), (38, 't5l2'), (39, 't5l2'), (40, 't5l2'), 
(41, 't5l2'),

-- Table 6 --
(1, 't6l2'), (2, 't6l2'), (3, 't6l2'), (4, 't6l2'), (5, 't6l2'), 
(6, 't6l2'),(7, 't6l2'), (8, 't6l2'), (9, 't6l2'), (10, 't6l2'), 
(11, 't6l2'), (12, 't6l2'),(13, 't6l2'), (14, 't6l2'), (15, 't6l2'), 
(16, 't6l2'), (17, 't6l2'), (18, 't6l2'), (19, 't6l2'), (20, 't6l2'), 
(21, 't6l2'), (22, 't6l2'), (23, 't6l2'), (24, 't6l2'),

-- Table 7
(1, 't7l2'), (2, 't7l2'), (3, 't7l2'), (4, 't7l2'), (5, 't7l2'), 
(6, 't7l2'),(7, 't7l2'), (8, 't7l2'), (9, 't7l2'), (10, 't7l2'), 
(11, 't7l2'), (12, 't7l2'),(13, 't7l2'), (14, 't7l2'), (15, 't7l2'), 
(16, 't7l2'), (17, 't7l2'), (18, 't7l2'), (19, 't7l2'), (20, 't7l2'), 
(21, 't7l2'), (22, 't7l2'), (23, 't7l2'), (24, 't7l2'),


-- Layout 3
-- Table 1
(1, 't1l3'), (2, 't1l3'), (3, 't1l3'), (4, 't1l3'), (5, 't1l3'), 
(6, 't1l3'),(7, 't1l3'), (8, 't1l3'), (9, 't1l3'), (10, 't1l3'), 
(11, 't1l3'), (12, 't1l3'),(13, 't1l3'), (14, 't1l3'), (15, 't1l3'), 
(16, 't1l3'), (17, 't1l3'), (18, 't1l3'), (19, 't1l3'), (20, 't1l3'), 
(21, 't1l3'), (22, 't1l3'), (23, 't1l3'), (24, 't1l3'),

-- Table 2
(1, 't2l3'), (2, 't2l3'), (3, 't2l3'), (4, 't2l3'), (5, 't2l3'), 
(6, 't2l3'),(7, 't2l3'), (8, 't2l3'), (9, 't2l3'), (10, 't2l3'), 
(11, 't2l3'), (12, 't2l3'),(13, 't2l3'), (14, 't2l3'), (15, 't2l3'), 
(16, 't2l3'), (17, 't2l3'), (18, 't2l3'), (19, 't2l3'), (20, 't2l3'), 
(21, 't2l3'), (22, 't2l3'), (23, 't2l3'), (24, 't2l3'),

-- Table 3
(1, 't3l3'), (2, 't3l3'), (3, 't3l3'), (4, 't3l3'), (5, 't3l3'), 
(6, 't3l3'),(7, 't3l3'), (8, 't3l3'), (9, 't3l3'), (10, 't3l3'), 
(11, 't3l3'), (12, 't3l3'),(13, 't3l3'), (14, 't3l3'), (15, 't3l3'), 
(16, 't3l3'), (17, 't3l3'), (18, 't3l3'), (19, 't3l3'), (20, 't3l3'), 
(21, 't3l3'), (22, 't3l3'), (23, 't3l3'), (24, 't3l3'),

-- Table 4
(1, 't4l3'), (2, 't4l3'), (3, 't4l3'), (4, 't4l3'), (5, 't4l3'), 
(6, 't4l3'),(7, 't4l3'), (8, 't4l3'), (9, 't4l3'), (10, 't4l3'), 
(11, 't4l3'), (12, 't4l3'),(13, 't4l3'), (14, 't4l3'), (15, 't4l3'), 
(16, 't4l3'), (17, 't4l3'), (18, 't4l3'), (19, 't4l3'), (20, 't4l3'), 
(21, 't4l3'), (22, 't4l3'), (23, 't4l3'), (24, 't4l3'),

-- Table 5
(1, 't5l3'), (2, 't5l3'), (3, 't5l3'), (4, 't5l3'), (5, 't5l3'), 
(6, 't5l3'),(7, 't5l3'), (8, 't5l3'), (9, 't5l3'), (10, 't5l3'), 
(11, 't5l3'), (12, 't5l3'),(13, 't5l3'), (14, 't5l3'), (15, 't5l3'), 
(16, 't5l3'), (17, 't5l3'), (18, 't5l3'), (19, 't5l3'), (20, 't5l3'), 
(21, 't5l3'), (22, 't5l3'), (23, 't5l3'), (24, 't5l3'),

-- Table 6
(1, 't6l3'), (2, 't6l3'), (3, 't6l3'), (4, 't6l3'), (5, 't6l3'), 
(6, 't6l3'),(7, 't6l3'), (8, 't6l3'), (9, 't6l3'), (10, 't6l3'), 
(11, 't6l3'), (12, 't6l3'),(13, 't6l3'), (14, 't6l3'), (15, 't6l3'), 
(16, 't6l3'), (17, 't6l3'), (18, 't6l3'), (19, 't6l3'), (20, 't6l3'), 
(21, 't6l3'), (22, 't6l3'), (23, 't6l3'), (24, 't6l3'),

-- Table 7
(1, 't7l3'), (2, 't7l3'), (3, 't7l3'), (4, 't7l3'), (5, 't7l3'), 
(6, 't7l3'),(7, 't7l3'), (8, 't7l3'), (9, 't7l3'), (10, 't7l3'), 
(11, 't7l3'), (12, 't7l3'),(13, 't7l3'), (14, 't7l3'), (15, 't7l3'), 
(16, 't7l3'), (17, 't7l3'), (18, 't7l3'), (19, 't7l3'), (20, 't7l3'), 
(21, 't7l3'), (22, 't7l3'), (23, 't7l3'), (24, 't7l3'),

-- Table 8
(1, 't8l3'), (2, 't8l3'), (3, 't8l3'), (4, 't8l3'), (5, 't8l3'), 
(6, 't8l3'),(7, 't8l3'), (8, 't8l3'), (9, 't8l3'), (10, 't8l3'), 
(11, 't8l3'), (12, 't8l3'),(13, 't8l3'), (14, 't8l3'), (15, 't8l3'), 
(16, 't8l3'), (17, 't8l3'), (18, 't8l3'),

-- Table 9
(1, 't9l3'), (2, 't9l3'), (3, 't9l3'), (4, 't9l3'), (5, 't9l3'), 
(6, 't9l3'),(7, 't9l3'), (8, 't9l3'), (9, 't9l3'), (10, 't9l3'), 
(11, 't9l3'), (12, 't9l3'),(13, 't9l3'), (14, 't9l3'), (15, 't9l3'), 
(16, 't9l3'), (17, 't9l3'), (18, 't9l3'), (19, 't9l3'), (20, 't9l3'), 
(21, 't9l3'), (22, 't9l3'), (23, 't9l3'), (24, 't9l3'),

-- Layout 4 --
-- Table 1
(1, 't1l4'), (2, 't1l4'), (3, 't1l4'), (4, 't1l4'), (5, 't1l4'), 
(6, 't1l4'),(7, 't1l4'), (8, 't1l4'), (9, 't1l4'), (10, 't1l4'), 
(11, 't1l4'), (12, 't1l4'),(13, 't1l4'), (14, 't1l4'), (15, 't1l4'), 
(16, 't1l4'), (17, 't1l4'), (18, 't1l4'), (19, 't1l4'), (20, 't1l4'), 
(21, 't1l4'), (22, 't1l4'), (23, 't1l4'), (24, 't1l4'),

-- Table 2
(1, 't2l4'), (2, 't2l4'), (3, 't2l4'), (4, 't2l4'), (5, 't2l4'), 
(6, 't2l4'),(7, 't2l4'), (8, 't2l4'), (9, 't2l4'), (10, 't2l4'), 
(11, 't2l4'), (12, 't2l4'),(14, 't2l4'), (15, 't2l4'), (16, 't2l4'), 
(17, 't2l4'), (18, 't2l4'), (19, 't2l4'), (20, 't2l4'), (21, 't2l4'), 
(22, 't2l4'), (23, 't2l4'), (24, 't2l4'),

-- Table 3
(1, 't3l4'), (2, 't3l4'), (3, 't3l4'), (4, 't3l4'), (5, 't3l4'), 
(6, 't3l4'),(7, 't3l4'), (8, 't3l4'), (9, 't3l4'), (10, 't3l4'), 
(11, 't3l4'), (12, 't3l4'),(13, 't3l4'), (14, 't3l4'), (15, 't3l4'), 
(16, 't3l4'), (17, 't3l4'), (18, 't3l4'), (19, 't3l4'), (20, 't3l4'), 
(21, 't3l4'), (22, 't3l4'), (23, 't3l4'), (24, 't3l4'),

-- Table 4
(1, 't4l4'), (2, 't4l4'), (3, 't4l4'), (4, 't4l4'), (5, 't4l4'), 
(6, 't4l4'),(7, 't4l4'), (8, 't4l4'), (9, 't4l4'), (10, 't4l4'), 
(11, 't4l4'), (12, 't4l4'),(13, 't4l4'), (14, 't4l4'), (15, 't4l4'), 
(16, 't4l4'), (17, 't4l4'), (18, 't4l4'), (19, 't4l4'), (20, 't4l4'), 
(21, 't4l4'), (22, 't4l4'), (23, 't4l4'), (24, 't4l4'),

-- Table 5
(1, 't5l4'), (2, 't5l4'), (3, 't5l4'), (4, 't5l4'), (5, 't5l4'), 
(6, 't5l4'),(7, 't5l4'), (8, 't5l4'), (9, 't5l4'), (10, 't5l4'), 
(11, 't5l4'), (12, 't5l4'),(13, 't5l4'), (14, 't5l4'), (15, 't5l4'), 
(16, 't5l4'), (17, 't5l4'), (18, 't5l4'), (19, 't5l4'), (20, 't5l4'), 
(21, 't5l4'), (22, 't5l4'), (23, 't5l4'), (24, 't5l4'),

-- Table 6
(1, 't6l4'), (2, 't6l4'), (3, 't6l4'), (4, 't6l4'), (5, 't6l4'), 
(6, 't6l4'),(7, 't6l4'), (8, 't6l4'), (9, 't6l4'), (10, 't6l4'), 
(11, 't6l4'), (12, 't6l4'),(13, 't6l4'), (14, 't6l4'), (15, 't6l4'), 
(16, 't6l4'), (17, 't6l4'), (18, 't6l4'), (19, 't6l4'), (20, 't6l4'), 
(21, 't6l4'), (22, 't6l4'), (23, 't6l4'), (24, 't6l4'),

-- Table 7
(1, 't7l4'), (2, 't7l4'), (3, 't7l4'), (4, 't7l4'), (5, 't7l4'), 
(6, 't7l4'),(7, 't7l4'), (8, 't7l4'), (9, 't7l4'), (10, 't7l4'), 
(11, 't7l4'), (12, 't7l4'),(13, 't7l4'), (14, 't7l4'), (15, 't7l4'), 
(16, 't7l4'), (17, 't7l4'), (18, 't7l4'), (19, 't7l4'), (20, 't7l4'), 
(21, 't7l4'), (22, 't7l4'), (23, 't7l4'),

-- Table 8
(1, 't8l4'), (2, 't8l4'), (3, 't8l4'), (4, 't8l4'), (5, 't8l4'), 
(6, 't8l4'),(7, 't8l4'), (8, 't8l4'), (9, 't8l4'), (10, 't8l4'), 
(11, 't8l4'), (12, 't8l4'),(13, 't8l4'), (14, 't8l4'), (15, 't8l4'), 
(16, 't8l4'), (17, 't8l4'), (18, 't8l4'), (19, 't8l4'), (20, 't8l4'), 
(21, 't8l4'), (22, 't8l4'), (23, 't8l4'),

-- Table 9
(1, 't9l4'), (2, 't9l4'), (3, 't9l4'), (4, 't9l4'), (5, 't9l4'), 
(6, 't9l4'),(7, 't9l4'), (8, 't9l4'), (9, 't9l4'), (10, 't9l4'), 
(11, 't9l4'), (12, 't9l4'),(13, 't9l4'), (14, 't9l4'), (15, 't9l4'), 
(16, 't9l4'), (17, 't9l4'), (18, 't9l4'), (19, 't9l4'), (20, 't9l4'), 
(21, 't9l4'), (22, 't9l4'), (23, 't9l4'), (24, 't9l4'),

-- Table 10
(1, 't10l4'), (2, 't10l4'), (3, 't10l4'), (4, 't10l4'), (5, 't10l4'), 
(6, 't10l4'),(7, 't10l4'), (8, 't10l4'), (9, 't10l4'), (10, 't10l4'), 
(11, 't10l4'), (12, 't10l4'),(13, 't10l4'), (14, 't10l4'), (15, 't10l4'), 
(16, 't10l4'), (17, 't10l4'), (18, 't10l4'), (19, 't10l4'), (20, 't10l4'), 
(21, 't10l4'), (22, 't10l4'), (23, 't10l4'), (24, 't10l4'),

-- Table 11
(1, 't11l4'), (2, 't11l4'), (3, 't11l4'), (4, 't11l4'), (5, 't11l4'), 
(6, 't11l4'),(7, 't11l4'), (8, 't11l4'), (9, 't11l4'), (10, 't11l4'), 
(11, 't11l4'), (12, 't11l4'),(13, 't11l4'), (14, 't11l4'), (15, 't11l4'), 
(16, 't11l4'), (17, 't11l4'), (18, 't11l4'), (19, 't11l4'), (20, 't11l4'), 
(21, 't11l4'), (22, 't11l4'), (23, 't11l4'), (24, 't11l4'),

-- Table 12
(1, 't12l4'), (2, 't12l4'), (3, 't12l4'), (4, 't12l4'), (5, 't12l4'), 
(6, 't12l4'),(7, 't12l4'), (8, 't12l4'), (9, 't12l4'), (10, 't12l4'), 
(11, 't12l4'), (12, 't12l4'),(13, 't12l4'), (14, 't12l4'), (15, 't12l4'), 
(16, 't12l4'), (17, 't12l4'), (18, 't12l4'), (19, 't12l4'), (20, 't12l4'), 
(21, 't12l4'), (22, 't12l4'), (23, 't12l4'),

-- Table 13
(1, 't13l4'), (2, 't13l4'), (3, 't13l4'), (4, 't13l4'), (5, 't13l4'), 
(6, 't13l4'),(7, 't13l4'), (8, 't13l4'), (9, 't13l4'), (10, 't13l4'), 
(11, 't13l4'), (12, 't13l4'),(13, 't13l4'), (14, 't13l4'), (15, 't13l4'), 
(16, 't13l4'), (17, 't13l4'), (18, 't13l4');